"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[513],{8513:(T,u,i)=>{i.r(u),i.d(u,{CollectionsModule:()=>h});var a=i(6895),d=i(6773),m=i(5861),t=i(8256),_=i(529),f=i(2043);class c{constructor(n,e){this.httpClient=n,this.authorisationService=e}getCollections(){var n=this;return(0,m.Z)(function*(){const e=yield n.authorisationService.getBearerToken();return n.httpClient.get("api/collections",{headers:{Authorization:e}})})()}static#t=this.\u0275fac=function(e){return new(e||c)(t.LFG(_.eN),t.LFG(f.g))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}var C=i(109),v=i(8897);class r{constructor(n,e,o){this.router=n,this.httpClient=e,this.authService=o,this.id=void 0,this.imageId=void 0,this.title=void 0,this.imageCount=void 0,this.coverUrl=""}ngOnInit(){var n=this;return(0,m.Z)(function*(){const e=yield n.authService.getBearerToken();n.httpClient.get(`api/images/id/${n.imageId}`,{headers:{authorization:e}}).subscribe({next:o=>{n.coverUrl=o.data.url,console.log(o)}})})()}navigateToCollectionGallery(){this.router.navigate(["/gallery"],{queryParams:{id:this.id}})}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(d.F0),t.Y36(_.eN),t.Y36(f.g))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-collection"]],inputs:{id:"id",imageId:"imageId",title:"title",imageCount:"imageCount"},decls:6,vars:3,consts:[[1,"collection__container",3,"click"],["referrerpolicy","no-referrer",1,"collection__image",3,"src"],[1,"collection__title"],[1,"collection__image-count"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.navigateToCollectionGallery()}),t._UZ(1,"img",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.TgZ(4,"h5",3),t._uU(5),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("src",o.coverUrl,t.LSH),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.hij("",o.imageCount," images"))},styles:[".collection__container[_ngcontent-%COMP%]{width:8rem;height:14rem;display:flex;flex-direction:column;margin:.5rem 1rem 0}.collection__container[_ngcontent-%COMP%]   .collection__image[_ngcontent-%COMP%]{object-fit:cover;width:100%;border-radius:5px;flex:1 1 auto;filter:drop-shadow(0 0 3px rgba(0,0,0,.404))}.collection__container[_ngcontent-%COMP%]   .collection__title[_ngcontent-%COMP%], .collection__container[_ngcontent-%COMP%]   .collection__image-count[_ngcontent-%COMP%]{margin:0;font-weight:100;text-align:center}.collection__container[_ngcontent-%COMP%]   .collection__title[_ngcontent-%COMP%]{line-height:2rem}.collection__container[_ngcontent-%COMP%]   .collection__image-count[_ngcontent-%COMP%]{line-height:1rem}"]})}function y(l,n){if(1&l&&(t.ynx(0),t.TgZ(1,"h5",4),t._uU(2),t.qZA(),t.BQk()),2&l){const e=t.oxw();t.xp6(2),t.hij("",e.collections.length," items")}}function O(l,n){if(1&l&&t._UZ(0,"app-collection",5),2&l){const e=n.$implicit;t.Q6J("id",e._id)("imageId",e.imageId)("title",e.title)("imageCount",e.images.length)}}class s{constructor(n){this.service=n}ngOnInit(){var n=this;return(0,m.Z)(function*(){(yield n.service.getCollections()).subscribe({next:o=>{n.collections=o.data}})})()}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-collections"]],decls:7,vars:2,consts:[[1,"collections__page-wrapper"],[4,"ngIf"],[1,"collections__collection-wrapper"],[3,"id","imageId","title","imageCount",4,"ngFor","ngForOf"],[1,"collections__count"],[3,"id","imageId","title","imageCount"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav-bar"),t.TgZ(2,"app-page-title"),t._uU(3,"Collections"),t.qZA(),t.YNc(4,y,3,1,"ng-container",1),t.TgZ(5,"div",2),t.YNc(6,O,1,4,"app-collection",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",o.collections),t.xp6(2),t.Q6J("ngForOf",o.collections))},dependencies:[a.sg,a.O5,C.w,v.T,r],styles:[".collections__page-wrapper[_ngcontent-%COMP%]{padding:0 1rem 1rem;display:flex;flex-direction:column;height:100%}.collections__page-wrapper[_ngcontent-%COMP%]   app-page-title[_ngcontent-%COMP%]{line-height:1rem;margin-top:1rem}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__count[_ngcontent-%COMP%]{text-align:center;margin:0}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__collection-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;justify-content:center;height:calc(100vh - 104px);overflow-y:auto}@media screen and (max-height: 600px){.collections__page-wrapper[_ngcontent-%COMP%]{padding:1rem;flex-direction:row}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__count[_ngcontent-%COMP%]{display:none}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__collection-wrapper[_ngcontent-%COMP%]{height:100%}app-page-title[_ngcontent-%COMP%]{display:none}}"]})}const M=[{path:"",component:s}];class g{static#t=this.\u0275fac=function(e){return new(e||g)};static#e=this.\u0275mod=t.oAB({type:g});static#n=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(M),d.Bz]})}var P=i(8411),x=i(2873);class p{static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275mod=t.oAB({type:p});static#n=this.\u0275inj=t.cJS({imports:[a.ez]})}class h{static#t=this.\u0275fac=function(e){return new(e||h)};static#e=this.\u0275mod=t.oAB({type:h});static#n=this.\u0275inj=t.cJS({imports:[a.ez,g,P.R,x.p,p]})}}}]);