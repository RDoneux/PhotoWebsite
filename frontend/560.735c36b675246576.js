"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[560],{8560:(J,h,r)=>{r.r(h),r.d(h,{GalleryModule:()=>p});var g=r(6895),_=r(6773),f=r(5861),e=r(8256),y=r(529),x=r(2043),I=r(109),C=r(8897);const v=["galleryImage"],O=function(s,i){return{"primary-image":s,"secondary-image":i}};function M(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"img",1,2),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onClick())}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("ngClass",e.WLB(2,O,t.index===t.targetImageIndex,t.index===t.targetImageIndex-1||t.index===t.targetImageIndex+1))("src",t.src,e.LSH)}}class o{constructor(){this.src=void 0,this.index=void 0,this.targetImageIndex=void 0,this.clicked=new e.vpe,this.galleryImage=void 0,this.imageStatus="terchary"}onClick(){this.clicked.emit({index:this.index??0,width:this.galleryImage?.nativeElement.width})}static#e=this.\u0275fac=function(t){return new(t||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-slider-image"]],viewQuery:function(t,a){if(1&t&&e.Gf(v,5),2&t){let n;e.iGM(n=e.CRH())&&(a.galleryImage=n.first)}},inputs:{src:"src",index:"index",targetImageIndex:"targetImageIndex"},outputs:{clicked:"clicked"},decls:1,vars:1,consts:[["class","gallery-image","referrerpolicy","no-referrer",3,"ngClass","src","click",4,"ngIf"],["referrerpolicy","no-referrer",1,"gallery-image",3,"ngClass","src","click"],["galleryImage",""]],template:function(t,a){1&t&&e.YNc(0,M,2,5,"img",0),2&t&&e.Q6J("ngIf",void 0!==a.index&&null!=a.targetImageIndex)},dependencies:[g.mk,g.O5],styles:["[_nghost-%COMP%]{display:block}.gallery-image[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%;position:relative;transition:filter .5s linear,opacity .5s linear;opacity:.3;filter:brightness(1) grayscale(1)}.gallery-image.primary-image[_ngcontent-%COMP%]{opacity:1;filter:grayscale(0)}.gallery-image.secondary-image[_ngcontent-%COMP%]{opacity:.8;filter:grayscale(.5)}"]})}function P(s,i){if(1&s){const t=e.EpF();e.TgZ(0,"app-image-slider-image",7),e.NdJ("clicked",function(n){e.CHM(t);const u=e.oxw(2);return e.KtG(u.imageClicked(n))}),e.qZA()}if(2&s){const t=i.$implicit,a=i.index,n=e.oxw(2);e.noy("--i: ",a,"; --image-rotation: ",360/(n.images.length+2<=n.minImageNumber?n.minImageNumber:n.images.length+2),"deg;  --image-number: ",n.images.length+2<=n.minImageNumber?n.minImageNumber:n.images.length+2,"px"),e.Q6J("src",t.url)("index",a)("targetImageIndex",n.targetImageIndex)}}const Z=function(s){return{backgroundImage:s}};function k(s,i){if(1&s&&(e.TgZ(0,"span",1),e._UZ(1,"div",2),e.TgZ(2,"div",3)(3,"h3",4),e._uU(4),e.qZA(),e.TgZ(5,"span")(6,"h5"),e._uU(7),e.qZA(),e.TgZ(8,"h5"),e._uU(9),e.qZA()()(),e.TgZ(10,"div",5),e.YNc(11,P,1,8,"app-image-slider-image",6),e.qZA()()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngStyle",e.VKq(8,Z,"url("+t.images[t.targetImageIndex].url+")")),e.xp6(3),e.hij(" ",t.images[t.targetImageIndex].title," "),e.xp6(3),e.Oqu(t.images[t.targetImageIndex].author),e.xp6(2),e.Oqu(t.images[t.targetImageIndex].dateTaken),e.xp6(1),e.Jzz("--desired-rotation: ",t.desiredRotation,"deg"),e.xp6(1),e.Q6J("ngForOf",t.images)}}class c{constructor(){this.images=void 0,this.targetImageIndex=0,this.desiredRotation=0,this.minImageNumber=7}imageClicked(i){!this.images||(this.targetImageIndex=i.index,this.desiredRotation=-360/(this.images.length+2<=this.minImageNumber?this.minImageNumber:this.images.length+2)*i.index)}static#e=this.\u0275fac=function(t){return new(t||c)};static#t=this.\u0275cmp=e.Xpm({type:c,selectors:[["app-image-slider"]],inputs:{images:"images"},decls:1,vars:1,consts:[["class","image-slider__container",4,"ngIf"],[1,"image-slider__container"],["referrerpolicy","no-referrer",1,"image-slider__primary-image",3,"ngStyle"],[1,"image-slider__primary-image-information"],[1,"image-slider__primary-image-title"],[1,"image-slider__gallery-container"],["class","image-slider__gallery-image",3,"style","src","index","targetImageIndex","clicked",4,"ngFor","ngForOf"],[1,"image-slider__gallery-image",3,"src","index","targetImageIndex","clicked"]],template:function(t,a){1&t&&e.YNc(0,k,12,10,"span",0),2&t&&e.Q6J("ngIf",a.images)},dependencies:[g.sg,g.O5,g.PC,o],styles:["[_nghost-%COMP%]{display:block}.image-slider__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;width:100%;overflow:hidden}.image-slider__container[_ngcontent-%COMP%]   .image-slider__primary-image[_ngcontent-%COMP%]{display:inline-block;flex:.8 0 auto;width:100%;position:relative;object-fit:cover;background-size:contain;background-repeat:no-repeat;background-position:center center;transition:background-image .5s ease-out}.image-slider__container[_ngcontent-%COMP%]   .image-slider__primary-image-information[_ngcontent-%COMP%]{text-align:center}.image-slider__container[_ngcontent-%COMP%]   .image-slider__primary-image-information[_ngcontent-%COMP%]   .image-slider__primary-image-title[_ngcontent-%COMP%]{margin:0;font-weight:100}.image-slider__container[_ngcontent-%COMP%]   .image-slider__primary-image-information[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-around}.image-slider__container[_ngcontent-%COMP%]   .image-slider__primary-image-information[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;display:block;font-weight:100}.image-slider__container[_ngcontent-%COMP%]   .image-slider__gallery-container[_ngcontent-%COMP%]{flex:.2 0 auto;margin-top:2rem;width:100px;transform-style:preserve-3d;transition:transform .5s ease-in-out;transform:perspective(1000px) rotateY(var(--desired-rotation));position:relative}.image-slider__container[_ngcontent-%COMP%]   .image-slider__gallery-container[_ngcontent-%COMP%]   .image-slider__gallery-image[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0;transform-origin:center;transform-style:preserve-3d;transform:rotateY(calc(var(--i) * var(--image-rotation))) translateZ(calc(var(--image-number) * 18))}"]})}class m{constructor(i,t,a){this.activiatedRoute=i,this.httpClient=t,this.authorisationService=a,this.images=void 0}ngOnInit(){var i=this;return(0,f.Z)(function*(){var t;i.activiatedRoute.queryParams.subscribe({next:(t=(0,f.Z)(function*(a){const n=a.id,u=yield i.authorisationService.getBearerToken();i.httpClient.get(`api/collections/${n}/images`,{headers:{Authorization:u}}).subscribe({next:S=>{i.images=S.data.images}})}),function(n){return t.apply(this,arguments)})})})()}static#e=this.\u0275fac=function(t){return new(t||m)(e.Y36(_.gz),e.Y36(y.eN),e.Y36(x.g))};static#t=this.\u0275cmp=e.Xpm({type:m,selectors:[["app-gallery"]],decls:5,vars:1,consts:[[1,"gallery__page-wrapper"],[2,"height","calc(100vh - 104px)",3,"images"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-nav-bar"),e.TgZ(2,"app-page-title"),e._uU(3,"Gallery"),e.qZA(),e._UZ(4,"app-image-slider",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("images",a.images))},dependencies:[I.w,C.T,c],styles:[".gallery__page-wrapper[_ngcontent-%COMP%]{padding:0 1rem 1rem;display:flex;flex-direction:column;height:100%}"]})}const T=[{path:"",component:m}];class l{static#e=this.\u0275fac=function(t){return new(t||l)};static#t=this.\u0275mod=e.oAB({type:l});static#i=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(T),_.Bz]})}var b=r(8411),w=r(2873);class d{static#e=this.\u0275fac=function(t){return new(t||d)};static#t=this.\u0275mod=e.oAB({type:d});static#i=this.\u0275inj=e.cJS({imports:[g.ez]})}class p{static#e=this.\u0275fac=function(t){return new(t||p)};static#t=this.\u0275mod=e.oAB({type:p});static#i=this.\u0275inj=e.cJS({imports:[g.ez,l,b.R,w.p,d]})}}}]);