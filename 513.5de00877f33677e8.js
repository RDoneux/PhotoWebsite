"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[513],{8513:(w,_,o)=>{o.r(_),o.d(_,{CollectionsModule:()=>m});var a=o(6895),h=o(6773),u=o(5861),t=o(8256),d=o(529),f=o(2043);class c{constructor(e,n){this.httpClient=e,this.authorisationService=n}getCollections(){var e=this;return(0,u.Z)(function*(){const n=yield e.authorisationService.getBearerToken();return e.httpClient.get("api/collections",{headers:{Authorization:n}})})()}static#t=this.\u0275fac=function(n){return new(n||c)(t.LFG(d.eN),t.LFG(f.g))};static#n=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}var C=o(109),v=o(8897);class s{constructor(e){this.router=e,this.id=void 0,this.imageUrl=void 0,this.title=void 0,this.imageCount=void 0}navigateToCollectionGallery(){this.router.navigate(["/gallery"],{queryParams:{id:this.id}})}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(h.F0))};static#n=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-collection"]],inputs:{id:"id",imageUrl:"imageUrl",title:"title",imageCount:"imageCount"},decls:6,vars:3,consts:[[1,"collection__container",3,"click"],[1,"collection__image",3,"src"],[1,"collection__title"],[1,"collection__image-count"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.navigateToCollectionGallery()}),t._UZ(1,"img",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.TgZ(4,"h5",3),t._uU(5),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("src",i.imageUrl,t.LSH),t.xp6(2),t.Oqu(i.title),t.xp6(2),t.hij("",i.imageCount," images"))},styles:[".collection__container[_ngcontent-%COMP%]{width:8rem;height:14rem;display:flex;flex-direction:column;margin:.5rem 1rem 0}.collection__container[_ngcontent-%COMP%]   .collection__image[_ngcontent-%COMP%]{object-fit:cover;width:100%;border-radius:5px;flex:1 1 auto;filter:drop-shadow(0 0 3px rgba(0,0,0,.404))}.collection__container[_ngcontent-%COMP%]   .collection__title[_ngcontent-%COMP%], .collection__container[_ngcontent-%COMP%]   .collection__image-count[_ngcontent-%COMP%]{margin:0;font-weight:100;text-align:center}.collection__container[_ngcontent-%COMP%]   .collection__title[_ngcontent-%COMP%]{line-height:2rem}.collection__container[_ngcontent-%COMP%]   .collection__image-count[_ngcontent-%COMP%]{line-height:1rem}"]})}function O(l,e){if(1&l&&(t.ynx(0),t.TgZ(1,"h5",4),t._uU(2),t.qZA(),t.BQk()),2&l){const n=t.oxw();t.xp6(2),t.hij("",n.collections.length," items")}}function y(l,e){if(1&l&&t._UZ(0,"app-collection",5),2&l){const n=e.$implicit;t.Q6J("id",n._id)("imageUrl","https://lh3.googleusercontent.com/d/1OxTe7jS0sX_plnvL9mHGK1nucSvLvqSo")("title",n.title)("imageCount",n.images.length)}}class r{constructor(e){this.service=e}ngOnInit(){var e=this;return(0,u.Z)(function*(){(yield e.service.getCollections()).subscribe({next:i=>{e.collections=i.data}})})()}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(c))};static#n=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-collections"]],decls:7,vars:2,consts:[[1,"collections__page-wrapper"],[4,"ngIf"],[1,"collections__collection-wrapper"],[3,"id","imageUrl","title","imageCount",4,"ngFor","ngForOf"],[1,"collections__count"],[3,"id","imageUrl","title","imageCount"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"app-nav-bar"),t.TgZ(2,"app-page-title"),t._uU(3,"Collections"),t.qZA(),t.YNc(4,O,3,1,"ng-container",1),t.TgZ(5,"div",2),t.YNc(6,y,1,4,"app-collection",3),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("ngIf",i.collections),t.xp6(2),t.Q6J("ngForOf",i.collections))},dependencies:[a.sg,a.O5,C.w,v.T,s],styles:[".collections__page-wrapper[_ngcontent-%COMP%]{padding:0 1rem 1rem;display:flex;flex-direction:column;height:100%}.collections__page-wrapper[_ngcontent-%COMP%]   app-page-title[_ngcontent-%COMP%]{line-height:1rem;margin-top:1rem}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__count[_ngcontent-%COMP%]{text-align:center;margin:0}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__collection-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%;justify-content:center;height:calc(100vh - 104px);overflow-y:auto}@media screen and (max-height: 600px){.collections__page-wrapper[_ngcontent-%COMP%]{padding:1rem;flex-direction:row}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__count[_ngcontent-%COMP%]{display:none}.collections__page-wrapper[_ngcontent-%COMP%]   .collections__collection-wrapper[_ngcontent-%COMP%]{height:100%}app-page-title[_ngcontent-%COMP%]{display:none}}"]})}const M=[{path:"",component:r}];class g{static#t=this.\u0275fac=function(n){return new(n||g)};static#n=this.\u0275mod=t.oAB({type:g});static#e=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(M),h.Bz]})}var P=o(8411),x=o(2873);class p{static#t=this.\u0275fac=function(n){return new(n||p)};static#n=this.\u0275mod=t.oAB({type:p});static#e=this.\u0275inj=t.cJS({imports:[a.ez]})}class m{static#t=this.\u0275fac=function(n){return new(n||m)};static#n=this.\u0275mod=t.oAB({type:m});static#e=this.\u0275inj=t.cJS({imports:[a.ez,g,P.R,x.p,p]})}}}]);